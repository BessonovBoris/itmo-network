# Теория

### 1. Как с помощью команды ip:

- назначить новый IPv4 адрес?

   ```
   ip addr add 192.168.1.10/24 dev eth0
   ```

- назначить новый MAC адрес?

   ```
   ip link set dev eth0 address 00:11:22:33:44:55
   ```

- назначить новый gateway?

   ```
   ip route add default via 192.168.1.1 dev eth0
   ```

- вывести информацию arp кэше?

   ```
   ip neigh show
   ```

- очистить arp кэш?

   ```
   ip neigh flush all
   ```

- включить интерфейс?

   ```
   ip link set eth0 up
   ```

- выключить интерфейс?

   ```
   ip link set eth0 down
   ```

### 2. Как с помощью nmcli назначить на интерфейс статический IP адрес, маску и настроить default gateway?

```
nmcli con mod eth0 ipv4.addresses 192.168.1.10/24
nmcli con mod eth0 ipv4.gateway 192.168.1.1
nmcli con mod eth0 ipv4.method manual
nmcli con up eth0
```

### 3. Как с помощью netplan назначить на интерфейс статический IP адрес, маску и настроить default gateway?

```network:
  version: 2
  renderer: networkd
  ethernets:
    eth0:
      dhcp4: no
      addresses:
        - 192.168.1.10/24
      gateway4: 192.168.1.1
      nameservers:
        addresses:
          - 8.8.8.8
          - 8.8.4.4
```

Применение

```
~/ sudo netplan apply
```

### 4. Какие режимы bonding стандартно существую в Linux? Опишите их назначение, возможности по отказоустойчивости и необходимость поддержки со стороны оборудования.

Bonding — это объединение нескольких сетевых интерфейсов в один логический интерфейс для повышения отказоустойчивости
и/или производительности. Основные режимы:

* mode=0 (balance-rr): Round-robin распределение пакетов. Обеспечивает как балансировку нагрузки, так и
  отказоустойчивость. Необходима поддержка со стороны коммутатора.
* mode=1 (active-backup): Один активный интерфейс, остальные резервные. Если активный интерфейс выходит из строя,
  управление передается резервному. Поддержка со стороны коммутатора не требуется.
* mode=2 (balance-xor): Балансировка по XOR-хешу на основе MAC-адресов. Обеспечивает балансировку нагрузки, требуется
  поддержка от коммутатора.
* mode=3 (broadcast): Отправка трафика через все интерфейсы. Обеспечивает отказоустойчивость. Используется для
  приложений, где нужно дублирование пакетов.
* mode=4 (802.3ad): Агрегация каналов на основе LACP (Link Aggregation Control Protocol). Необходима поддержка LACP со
  стороны коммутатора.
* mode=5 (balance-tlb): Балансировка нагрузки на основе загрузки передающего интерфейса. Не требуется поддержка
  коммутатора.
* mode=6 (balance-alb): Балансировка нагрузки на уровне передачи и приема. Не требует поддержки со стороны коммутатора,
  но адаптеры должны поддерживать это на аппаратном уровне.

### 5. Какие существуют и чем отличаются режимы работы адаптера (duplex) ?

- Half-duplex: Данные могут передаваться только в одном направлении одновременно. Используется в старых сетях, снижает
  производительность.
- Full-duplex: Данные могут передаваться и приниматься одновременно. Используется в современных сетях, увеличивает
  производительность.

### 6. Какой, по-вашему, практический смысл в возможности назначения нескольких IP адресов на один интерфейс?

- **Виртуализация:** Один интерфейс может обслуживать несколько виртуальных машин или контейнеров.
- **Многосетевое окружение:** Можно присвоить интерфейсу IP из разных сетей, что позволяет взаимодействовать с
  различными подсетями без создания дополнительных интерфейсов.
- **Переход с одного IP на другой:** Постепенный переход между двумя IP-адресами с минимальными простоями.

### 7. Какой, по-вашему, практический смысл в возможности создания виртуальных интерфейсов?

- **Изоляция трафика:** Виртуальные интерфейсы могут использоваться для разделения трафика разных служб или приложений.
- **Настройка VLAN:** Виртуальные интерфейсы часто используются для поддержки VLAN (виртуальных локальных сетей).
- **Повышение отказоустойчивости:** Использование виртуальных интерфейсов для резервирования трафика, например, через
  bonding.

-------------------

### 1. IP-адрес

#### Расшифровка: Internet Protocol Address.

IP-адрес — это уникальный идентификатор, присваиваемый каждому устройству в сети для его идентификации и общения с
другими устройствами через интернет или локальную сеть.

### 2. Gateway (Шлюз)

#### Расшифровка: Gateway — это точка выхода из локальной сети во внешнюю сеть, обычно интернет.

Шлюз направляет сетевой трафик от компьютеров в локальной сети к компьютерам и устройствам в другой сети, часто через
интернет. Без правильно настроенного шлюза, устройства внутри локальной сети не смогут общаться с устройствами за её
пределами.

### 3. DNS-адрес

#### Расшифровка: Domain Name System Address.

DNS-адрес — это IP-адрес сервера, который используется для преобразования доменных имен (например, www.google.com) в
IP-адреса. Это необходимо, так как компьютерные сети работают с IP-адресами, а не с доменными именами.

### 4. DHCP-клиент

#### Расшифровка: Dynamic Host Configuration Protocol Client.

DHCP-клиент — это программа или служба на компьютере, которая запрашивает сетевые параметры у DHCP-сервера. Эти
параметры включают в себя IP-адрес, шлюз и DNS-серверы. DHCP-клиент автоматически получает сетевые настройки, что
облегчает настройку сетевых устройств.

### 5. DHCP-сервер

#### Расшифровка: Dynamic Host Configuration Protocol Server.

DHCP-сервер автоматически раздает IP-адреса и другие сетевые параметры устройствам в сети. Это избавляет от
необходимости вручную назначать IP-адрес каждому устройству.

### 6. Режим работы (duplex)

#### Расшифровка: Duplex — это режим передачи данных в сетях.

- **Half-duplex:** Устройства могут передавать и принимать данные, но не одновременно. Используется в старых сетевых
  технологиях, таких как Ethernet 10Base2.
- **Full-duplex:** Устройства могут одновременно передавать и принимать данные. Это повышает производительность, так как
  позволяет устройствам общаться двунаправленно без задержек.

### 7. Linux
-  #### Имя интерфейса (например, enp0s3 или eth0)
**Расшифровка:** Имя сетевого интерфейса указывает на физический или виртуальный сетевой адаптер, используемый системой
для подключения к сети. В старых версиях Linux интерфейсы назывались eth0, eth1 и т.д., но в современных системах
используется схема именования, зависящая от аппаратной структуры (enp0s3):
      - en — Ethernet.
      - p0 — порт на шине.
      - s3 — слот на шине.
- #### ifconfig
**Расшифровка:** Interface Configuration.
Команда для просмотра и настройки сетевых интерфейсов. Использовалась в старых версиях Linux, сейчас заменена на ip.

- #### ip (контекст address, link, route)
Расшифровка: Команда ip используется для управления сетевыми настройками.
    - ip address — управление IP-адресами.
    - ip link — управление физическими сетевыми интерфейсами (включение/выключение).
    - ip route — управление маршрутами (например, добавление шлюза).
- #### dhclient
**Расшифровка:** DHCP Client.
Это программа для запроса IP-адреса и других сетевых настроек у DHCP-сервера. Когда запускается команда dhclient, она
связывается с DHCP-сервером для получения сетевых параметров.

- #### /etc/resolv.conf
**Расшифровка:** Этот файл содержит настройки DNS-серверов, которые используются для преобразования доменных имен в
IP-адреса. Если в нем указаны несколько DNS-серверов, система будет обращаться к ним по порядку.

- #### nmcli
**Расшифровка:** Network Manager Command Line Interface.
Инструмент командной строки для управления сетевыми интерфейсами через NetworkManager. Он позволяет подключать/отключать
интерфейсы, назначать IP-адреса, управлять Wi-Fi сетями и многое другое.

- #### Netplan
**Расшифровка:** Netplan — это система конфигурирования сетевых интерфейсов в Ubuntu и других дистрибутивах Linux. Она
использует YAML-файлы для конфигурации сетевых настроек. Netplan взаимодействует с networkd или NetworkManager для
применения настроек.

- #### Bonding
**Расшифровка:** Bonding — это технология объединения нескольких сетевых интерфейсов для повышения отказоустойчивости или
увеличения пропускной способности. Настройки и статус bonding можно посмотреть в файлах /proc/net/bonding/bond0.

- #### /proc (Файл статистики интерфейсов)
**Расшифровка:** Файлы в /proc содержат информацию о состоянии системы. Например, файл /proc/net/dev показывает статистику
сетевых интерфейсов, включая количество переданных и полученных пакетов, ошибок и другие метрики.